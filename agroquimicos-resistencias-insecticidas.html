<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscador de Modos de Acción - IRAC</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #45a049;
            --admin-color: #2196F3;
            --grower-junior-color: #FF9800;
            --digitador-color: #9C27B0;
            --tecnico-color: #607D8B;
            --supervisor-color: #FF5722;
            --invitado-color: #9E9E9E;
            --gerente-general-color: #E91E63;
            --gerente-produccion-color: #3F51B5;
            --jefe-vivero-color: #009688;
            --error-color: #f44336;
            --light-gray: #f5f5f5;
            --white: #ffffff;
            --dark-gray: #000000;
            
            /* Colores para categorías de modos de acción */
            --nervous-system: #e3f2fd;
            --nervous-system-dark: #2196F3; /* Azul Admin */
            --growth-development: #fff3e0;
            --growth-development-dark: #FF9800; /* Naranja Grower/Junior */
            --respiration: #ffebee;
            --respiration-dark: #f44336; /* Rojo Error */
            --digestive-system: #e8f5e9;
            --digestive-system-dark: #4CAF50; /* Verde Primario */
            --unknown-action: #f5f5f5;
            --unknown-action-dark: #607D8B; /* Gris Técnico */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light-gray);
            color: var(--dark-gray);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            background-color: var(--white);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 1400px;
            margin: 20px auto;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 30px;
            text-align: center;
            font-size: 24px;
        }

        .card {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border-radius: 8px;
            border: none;
        }
        
        .card-header {
            border-radius: 8px 8px 0 0 !important;
            font-weight: 600;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px 20px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            border-radius: 4px;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        .btn-secondary {
            background-color: var(--admin-color);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            border-radius: 4px;
        }
        
        .btn-secondary:hover {
            background-color: #1976d2;
        }

        /* Estilos específicos del buscador */
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        #ingredient-search {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        #ingredient-search:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(76, 175, 80, 0.25);
        }

        .suggestions {
            position: relative;
            flex: 1;
        }

        #suggestions-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            max-height: 250px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .suggestion-item {
            padding: 12px 15px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }

        .suggestion-item:hover {
            background-color: var(--light-gray);
        }

        .results-section {
            display: none;
        }

        .active-ingredient {
            background-color: #e8f5e9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            border-left: 4px solid var(--primary-color);
        }

        .ingredient-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .ingredient-name {
            font-size: 22px;
            color: var(--primary-color);
            font-weight: 600;
        }

        .moa-badge {
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .ingredient-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .detail-item {
            margin-bottom: 8px;
        }

        .detail-label {
            font-weight: 600;
            color: #666;
        }

        .recommendations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .recommendations-header h3 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
            margin-bottom: 0;
        }

        .filter-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-label {
            font-weight: 600;
            color: #666;
            font-size: 14px;
        }

        .common-uses-filter {
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: white;
            padding: 8px 15px;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }

        .recommendation-card {
            background: var(--white);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 4px solid var(--primary-color);
        }

        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .rec-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-color);
        }

        .rec-moa {
            color: var(--dark-gray);
            font-weight: 500;
            margin-bottom: 12px;
        }

        .rec-details {
            font-size: 14px;
            color: #666;
        }

        .rec-details p {
            margin-bottom: 8px;
        }

        /* Sidebar ajustes */
        .sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 1001;
            padding: 2rem;
            overflow-y: auto;
            border-left: 4px solid var(--primary-color);
        }
        
        .sidebar.active {
            right: 0;
        }
        
        .sidebar h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--light-gray);
            padding-bottom: 0.5rem;
        }
        
        .sidebar-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .settings-group {
            margin-bottom: 1.5rem;
            padding: 15px;
            background-color: var(--light-gray);
            border-radius: 8px;
        }
        
        .settings-group h3 {
            margin-bottom: 0.8rem;
            color: var(--primary-color);
            font-size: 16px;
        }
        
        .settings-option {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
        }
        
        .settings-option input {
            margin-right: 0.5rem;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            display: none;
        }
        
        .overlay.active {
            display: block;
        }

        /* Modal de Información */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1100;
            overflow: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            border-top: 4px solid var(--primary-color);
        }
        
        .close-button {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: #666;
        }
        
        .modal-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--light-gray);
            padding-bottom: 0.5rem;
        }
        
        .action-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .action-section h3 {
            margin-bottom: 1rem;
            color: var(--dark-gray);
        }
        
        .mode-list {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .mode-of-action {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 0.2rem;
        }
        
        .nervous-system-section {
            background-color: var(--nervous-system);
            border-left: 4px solid var(--nervous-system-dark);
        }
        
        .nervous-system-mode {
            background-color: var(--nervous-system-dark);
            color: white;
        }
        
        .growth-development-section {
            background-color: var(--growth-development);
            border-left: 4px solid var(--growth-development-dark);
        }
        
        .growth-development-mode {
            background-color: var(--growth-development-dark);
            color: white;
        }
        
        .respiration-section {
            background-color: var(--respiration);
            border-left: 4px solid var(--respiration-dark);
        }
        
        .respiration-mode {
            background-color: var(--respiration-dark);
            color: white;
        }
        
        .digestive-system-section {
            background-color: var(--digestive-system);
            border-left: 4px solid var(--digestive-system-dark);
        }
        
        .digestive-system-mode {
            background-color: var(--digestive-system-dark);
            color: white;
        }
        
        .unknown-action-section {
            background-color: var(--unknown-action);
            border-left: 4px solid var(--unknown-action-dark);
        }
        
        .unknown-action-mode {
            background-color: var(--unknown-action-dark);
            color: white;
        }
        
        .modal-note {
            background-color: #fffde7;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #FF9800;
            font-size: 0.9rem;
        }

        /* Tutorial Modal */
        .tutorial-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 1200;
            overflow: auto;
        }
        
        .tutorial-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            border-top: 4px solid var(--primary-color);
        }
        
        .tutorial-slide {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .tutorial-slide.active {
            display: block;
        }
        
        .tutorial-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 24px;
        }
        
        .tutorial-step {
            font-size: 18px;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }
        
        .tutorial-description {
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .tutorial-img {
            text-align: center;
            margin: 20px 0;
            font-size: 50px;
            color: var(--primary-color);
        }
        
        .tutorial-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .tutorial-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .tutorial-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ddd;
            cursor: pointer;
        }
        
        .tutorial-indicator.active {
            background-color: var(--primary-color);
        }
        
        .dont-show-again {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            font-size: 14px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Toast para notificaciones */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .ingredient-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .recommendation-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content, .tutorial-content {
                width: 95%;
                padding: 1rem;
            }
            
            .recommendations-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .filter-controls {
                width: 100%;
            }
            
            .sidebar {
                width: 100%;
                right: -100%;
            }
        }
    </style>
</head>
<body>
    <!-- Contenido principal -->
    <div class="container">
        <h1><i class="fas fa-search me-2"></i>Buscador de Modos de Acción - IRAC</h1>
        
        <div class="card">
            <div class="card-header text-center">
                <h4 class="mb-0"><i class="fas fa-flask me-2"></i>Búsqueda de Ingredientes Activos</h4>
            </div>
            <div class="card-body">
                <div class="search-box">
                    <div class="suggestions">
                        <input type="text" id="ingredient-search" class="form-control" placeholder="Escribe el nombre de un ingrediente activo...">
                        <div id="suggestions-list"></div>
                    </div>
                    <button class="btn btn-primary" id="search-btn">
                        <i class="fas fa-search me-2"></i>Buscar
                    </button>
                    <button class="btn btn-secondary" id="legend-btn">
                        <i class="fas fa-info-circle me-2"></i>Leyenda
                    </button>
                    <button class="btn btn-secondary" id="settings-btn">
                        <i class="fas fa-sliders-h me-2"></i>Ajustes
                    </button>
                    <button class="btn btn-secondary" id="help-btn">
                        <i class="fas fa-question-circle me-2"></i>Ayuda
                    </button>
                </div>
                
                <!-- Sidebar de ajustes -->
                <div class="overlay" id="overlay"></div>
                
                <div class="sidebar" id="sidebar">
                    <button class="sidebar-close">×</button>
                    <h2><i class="fas fa-sliders-h me-2"></i>Ajustes de Recomendación</h2>
                    
                    <div class="settings-group">
                        <h3><i class="fas fa-filter me-2"></i>Método de Recomendación</h3>
                        <div class="settings-option">
                            <input type="radio" id="mode-physiological" name="recommendation-mode" value="physiological" checked>
                            <label for="mode-physiological">Por Función Fisiológica</label>
                        </div>
                        <div class="settings-option">
                            <input type="radio" id="mode-family" name="recommendation-mode" value="family">
                            <label for="mode-family">Por Familia</label>
                        </div>
                        <div class="settings-option">
                            <input type="radio" id="mode-chemical" name="recommendation-mode" value="chemical">
                            <label for="mode-chemical">Por Grupo Químico</label>
                        </div>
                    </div>
                    
                    <div class="settings-group">
                        <h3><i class="fas fa-crop me-2"></i>Filtro de Usos Comunes</h3>
                        <div class="settings-option">
                            <input type="radio" id="filter-similar-uses" name="common-uses-filter" value="similar" checked>
                            <label for="filter-similar-uses">Ingredientes con usos similares</label>
                        </div>
                        <div class="settings-option">
                            <input type="radio" id="filter-same-uses" name="common-uses-filter" value="same">
                            <label for="filter-same-uses">Solo ingredientes con mismos usos</label>
                        </div>
                        <div class="settings-option">
                            <input type="radio" id="filter-all-uses" name="common-uses-filter" value="all">
                            <label for="filter-all-uses">Mostrar todos los ingredientes</label>
                        </div>
                    </div>
                </div>
                
                <!-- Modal de Información -->
                <div id="info-modal" class="modal">
                    <div class="modal-content">
                        <span class="close-button">&times;</span>
                        <h2 class="modal-title"><i class="fas fa-book me-2"></i>Funciones Fisiológicas de Insecticidas</h2>
                        
                        <div class="action-section nervous-system-section">
                            <h3><i class="fas fa-brain me-2"></i>Acción sobre el sistema nervioso o muscular</h3>
                            <p>La mayoría de los insecticidas actúan sobre el sistema nervioso o muscular. Generalmente suelen ser de acción rápida.</p>
                            <p><strong>Grupos que actúan en el sistema nervioso:</strong></p>
                            <ul class="mode-list">
                                <li>Grupo 1: Inhibidores de acetilcolinesterasa (AChE)</li>
                                <li>Grupo 2: Antagonistas del receptor de GABA</li>
                                <li>Grupo 3: Moduladores de canales de sodio</li>
                                <li>Grupo 4: Moduladores de receptores nicotínicos de acetilcolina (nAChR)</li>
                                <li>Grupo 5: Moduladores de receptores de glutamato</li>
                                <li>Grupo 6: Activadores de canales de cloro</li>
                                <li>Grupo 9: Moduladores de receptores de octopamina</li>
                                <li>Grupo 14: Inhibidores de la biosíntesis de lípidos</li>
                                <li>Grupo 19: Moduladores de canales de calcio</li>
                                <li>Grupo 22: Inhibidores de canales de voltaje de calcio</li>
                                <li>Grupo 28: Moduladores de canales de iones Ryanodina</li>
                                <li>Grupo 29: Compuestos con efecto desconocido o no clasificado</li>
                                <li>Grupo 30: Inhibidores de la síntesis de acetilcolina</li>
                                <li>Grupo 32: Inhibidores de la captación de GABA</li>
                                <li>Grupo 33: Inhibidores de la captación de octopamina</li>
                                <li>Grupo 35: Moduladores de canales de cloro activados por glutamato</li>
                                <li>Grupo 36: Inhibidores de la síntesis de glutamato</li>
                                <li>Grupo 37: Moduladores de canales de potasio</li>
                            </ul>
                            <p>Los productos marcados con <span class="mode-of-action nervous-system-mode">Sistema Nervioso</span> pertenecen a estos grupos.</p>
                        </div>
                        
                        <div class="action-section growth-development-section">
                            <h3><i class="fas fa-seedling me-2"></i>Acción sobre el crecimiento y desarrollo</h3>
                            <p>El desarrollo de los insectos está controlado por el equilibrio de dos hormonas principales: la hormona juvenil y la ecdisona. Los reguladores del crecimiento de los insectos actúan imitando una de estas hormonas o perturbando directamente la formación/deposición de la cutícula o la biosíntesis de lípidos.</p>
                            <p>Los insecticidas que actúan sobre los distintos objetivos de este sistema, son generalmente de acción lenta a moderadamente lenta.</p>
                            <p><strong>Grupos que actúan en el crecimiento y desarrollo:</strong></p>
                            <ul class="mode-list">
                                <li>Grupo 7: Análogos de la hormona juvenil (JH)</li>
                                <li>Grupo 10: Inhibidores de la biosíntesis de quitina</li>
                                <li>Grupo 15: Inhibidores de la biosíntesis de quitina (tipo 1)</li>
                                <li>Grupo 16: Inhibidores de la síntesis de lípidos</li>
                                <li>Grupo 17: Inhibidores de la biosíntesis de quitina (tipo 2)</li>
                                <li>Grupo 18: Ecdisona agonistas/disruptores de la muda</li>
                                <li>Grupo 23: Inhibidores de la síntesis de ATP mitocondrial</li>
                            </ul>
                            <p>Los productos marcados con <span class="mode-of-action growth-development-mode">Crecimiento y Desarrollo</span> pertenecen a estos grupos.</p>
                        </div>
                        
                        <div class="action-section respiration-section">
                            <h3><i class="fas fa-lungs me-2"></i>Acción sobre la respiración</h3>
                            <p>La respiración mitocondrial produce ATP, la molécula que da energía a todos los procesos celulares vitales. En las mitocondrias, una cadena de transporte de electrones almacena la energía generada por la oxidación en forma de un gradiente de protones, lo que genera la síntesis de ATP.</p>
                            <p>Varios insecticidas son conocidos por interferir en la respiración mitocondrial mediante la inhibición del transporte de electrones y/o la fosforilación oxidativa. Los insecticidas que actúan sobre los distintos puntos de este sistema son generalmente de acción rápida a moderadamente rápida.</p>
                            <p><strong>Grupos que actúan en la respiración:</strong></p>
                            <ul class="mode-list">
                                <li>Grupo 12: Inhibidores del transporte de electrones mitocondrial</li>
                                <li>Grupo 13: Desacopladores de la fosforilación oxidativa</li>
                                <li>Grupo 20: Inhibidores del transporte de electrones mitocondrial (Complexo I)</li>
                                <li>Grupo 21: Inhibidores del transporte de electrones mitocondrial (Complexo III)</li>
                                <li>Grupo 24: Inhibidores del transporte de electrones mitocondrial (Complexo IV)</li>
                                <li>Grupo 25: Desacopladores de la fosforilación oxidativa</li>
                                <li>Grupo 34: Inhibidores de la síntesis de ATP</li>
                            </ul>
                            <p>Los productos marcados con <span class="mode-of-action respiration-mode">Respiración</span> pertenecen a estos grupos.</p>
                        </div>
                        
                        <div class="action-section digestive-system-section">
                            <h3><i class="fas fa-stomach me-2"></i>Acción sobre el sistema digestivo</h3>
                            <p>Toxinas microbianas específicas de lepidópteros (aplicadas mediante pulverización o expresadas en variedades de cultivos transgénicos) y baculovirus.</p>
                            <p><strong>Grupos que actúan en el sistema digestivo:</strong></p>
                            <ul class="mode-list">
                                <li>Grupo 11: Toxinas microbianas disruptoras de la membrana</li>
                                <li>Grupo 31: Toxinas de Bacillus thuringiensis (Bt) y otros bioinsecticidas</li>
                            </ul>
                            <p>Los productos marcados con <span class="mode-of-action digestive-system-mode">Sistema Digestivo</span> pertenecen a estos grupos.</p>
                        </div>
                        
                        <div class="action-section unknown-action-section">
                            <h3><i class="fas fa-question-circle me-2"></i>Modo de acción desconocido o incierto</h3>
                            <p>Varios insecticidas que afectan a funciones o puntos de acción de un modo menos conocido, o actúan inespecíficamente sobre varios puntos.</p>
                            <p><strong>Grupos con modo de acción desconocido o incierto:</strong></p>
                            <ul class="mode-list">
                                <li>Grupo 8: Compuestos varios (modo de acción no clasificado)</li>
                                <li>Grupo UN: Compuestos de modo de acción desconocido</li>
                                <li>Grupo UNE: Compuestos de modo de acción desconocido (efectos en enzimas)</li>
                                <li>Grupo UNF: Compuestos de modo de acción desconocido (efectos en funciones)</li>
                                <li>Grupo UNM: Compuestos de modo de acción desconocido (efectos múltiples)</li>
                                <li>Grupo ONU: Compuestos con modo de acción no determinado</li>
                                <li>Grupo UNP: Compuestos de modo de acción desconocido (efectos fisiológicos)</li>
                                <li>Grupo UNU: Compuestos de modo de acción desconocido (efectos diversos)</li>
                            </ul>
                            <p>Los productos marcados con <span class="mode-of-action unknown-action-mode">Modo Desconocido</span> pertenecen a estos grupos.</p>
                        </div>
                        
                        <div class="modal-note">
                            <p><strong><i class="fas fa-exclamation-triangle me-2"></i>Nota importante:</strong> El esquema de color empleado asocia modos de acción con categorías generales basadas en las funciones fisiológicas afectadas, como una ayuda para la comprensión de la sintomatología, la rapidez de acción y otras propiedades de los insecticidas, y no para cualquier propósito de manejo de la resistencia.</p>
                            <p><strong>Las rotaciones para el manejo de la resistencia deben basarse únicamente en los grupos numerados de modo de acción.</strong></p>
                        </div>
                    </div>
                </div>
                
                <!-- Tutorial Modal -->
                <div id="tutorial-modal" class="tutorial-modal">
                    <div class="tutorial-content">
                        <!-- Slide 1 -->
                        <div class="tutorial-slide active" id="slide-1">
                            <h2 class="tutorial-title"><i class="fas fa-graduation-cap me-2"></i>Bienvenido al Buscador de Modos de Acción</h2>
                            <div class="tutorial-img">
                                <i class="fas fa-flask"></i>
                            </div>
                            <p class="tutorial-description">
                                Este sistema te ayudará a encontrar ingredientes activos con modos de acción diferentes para implementar estrategias de rotación y manejo de resistencia.
                            </p>
                            <p class="tutorial-description">
                                El sistema sigue la clasificación IRAC (Insecticide Resistance Action Committee) para garantizar recomendaciones efectivas.
                            </p>
                        </div>
                        
                        <!-- Slide 2 -->
                        <div class="tutorial-slide" id="slide-2">
                            <h2 class="tutorial-title">Cómo Buscar Ingredientes</h2>
                            <div class="tutorial-img">
                                <i class="fas fa-search"></i>
                            </div>
                            <p class="tutorial-step">Paso 1: Escribe el nombre</p>
                            <p class="tutorial-description">
                                Comienza escribiendo el nombre de un ingrediente activo en el campo de búsqueda. El sistema mostrará sugerencias automáticas.
                            </p>
                            <p class="tutorial-step">Paso 2: Selecciona el ingrediente</p>
                            <p class="tutorial-description">
                                Haz clic en el ingrediente que deseas buscar de la lista de sugerencias o presiona "Buscar" después de escribirlo.
                            </p>
                        </div>
                        
                        <!-- Slide 3 -->
                        <div class="tutorial-slide" id="slide-3">
                            <h2 class="tutorial-title">Personaliza tus Resultados</h2>
                            <div class="tutorial-img">
                                <i class="fas fa-sliders-h"></i>
                            </div>
                            <p class="tutorial-step">Usa los ajustes</p>
                            <p class="tutorial-description">
                                Haz clic en el botón "Ajustes" para configurar cómo quieres que se generen las recomendaciones:
                            </p>
                            <ul>
                                <li><strong>Por Función Fisiológica:</strong> Recomienda ingredientes con funciones diferentes</li>
                                <li><strong>Por Familia:</strong> Recomienda ingredientes de familias diferentes</li>
                                <li><strong>Por Grupo Químico:</strong> Recomienda ingredientes de grupos químicos diferentes</li>
                            </ul>
                        </div>
                        
                        <!-- Slide 4 -->
                        <div class="tutorial-slide" id="slide-4">
                            <h2 class="tutorial-title">Filtro de Usos Comunes</h2>
                            <div class="tutorial-img">
                                <i class="fas fa-filter"></i>
                            </div>
                            <p class="tutorial-description">
                                Puedes ajustar cómo se filtran los ingredientes por usos comunes:
                            </p>
                            <ul>
                                <li><strong>Usos Similares:</strong> Encuentra ingredientes con cultivos similares (recomendado)</li>
                                <li><strong>Mismos Usos:</strong> Solo ingredientes con exactamente los mismos cultivos</li>
                                <li><strong>Todos:</strong> Sin filtro por usos</li>
                            </ul>
                            <p class="tutorial-description">
                                Esto te ayuda a encontrar alternativas prácticas para tus cultivos específicos.
                            </p>
                        </div>
                        
                        <!-- Slide 5 -->
                        <div class="tutorial-slide" id="slide-5">
                            <h2 class="tutorial-title">Interpreta los Resultados</h2>
                            <div class="tutorial-img">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <p class="tutorial-description">
                                Los resultados se muestran con códigos de colores según la función fisiológica:
                            </p>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0;">
                                <span class="mode-of-action nervous-system-mode">Sistema Nervioso</span>
                                <span class="mode-of-action growth-development-mode">Crecimiento</span>
                                <span class="mode-of-action respiration-mode">Respiración</span>
                                <span class="mode-of-action digestive-system-mode">Digestivo</span>
                                <span class="mode-of-action unknown-action-mode">Desconocido</span>
                            </div>
                            <p class="tutorial-description">
                                Cada tarjeta muestra toda la información del ingrediente recomendado para que puedas tomar decisiones informadas.
                            </p>
                        </div>
                        
                        <!-- Slide 6 -->
                        <div class="tutorial-slide" id="slide-6">
                            <h2 class="tutorial-title">¡Comienza a Usar el Sistema!</h2>
                            <div class="tutorial-img">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <p class="tutorial-description">
                                Ahora estás listo para usar el buscador de modos de acción. Recuerda:
                            </p>
                            <ul>
                                <li>Usa la rotación de modos de acción para prevenir resistencia</li>
                                <li>Consulta la leyenda para entender los códigos de color</li>
                                <li>Personaliza los filtros según tus necesidades</li>
                                <li>Puedes volver a ver este tutorial en cualquier momento desde el botón "Ayuda"</li>
                            </ul>
                            <div class="dont-show-again">
                                <input type="checkbox" id="dont-show-again">
                                <label for="dont-show-again">No mostrar este tutorial nuevamente</label>
                            </div>
                        </div>
                        
                        <!-- Indicadores -->
                        <div class="tutorial-indicators">
                            <div class="tutorial-indicator active" data-slide="1"></div>
                            <div class="tutorial-indicator" data-slide="2"></div>
                            <div class="tutorial-indicator" data-slide="3"></div>
                            <div class="tutorial-indicator" data-slide="4"></div>
                            <div class="tutorial-indicator" data-slide="5"></div>
                            <div class="tutorial-indicator" data-slide="6"></div>
                        </div>
                        
                        <!-- Navegación -->
                        <div class="tutorial-navigation">
                            <button class="btn btn-secondary" id="prev-slide">
                                <i class="fas fa-arrow-left me-2"></i>Anterior
                            </button>
                            <button class="btn btn-primary" id="next-slide">
                                Siguiente<i class="fas fa-arrow-right ms-2"></i>
                            </button>
                            <button class="btn btn-secondary" id="skip-tutorial">
                                Saltar Tutorial
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Sección de resultados -->
                <section class="results-section" id="results-section">
                    <div class="active-ingredient" id="active-ingredient">
                        <!-- Información del ingrediente activo seleccionado -->
                    </div>
                    
                    <div class="recommendations">
                        <div class="recommendations-header">
                            <h3><i class="fas fa-lightbulb me-2"></i>Ingredientes Recomendados</h3>
                            <div class="filter-controls" id="filter-controls" style="display: none;">
                                <span class="filter-label">Filtro de usos:</span>
                                <div class="common-uses-filter">
                                    <input type="checkbox" id="common-uses-filter-checkbox" class="form-check-input">
                                    <label for="common-uses-filter-checkbox" class="form-check-label" id="common-uses-label"></label>
                                </div>
                            </div>
                        </div>
                        <div class="recommendation-grid" id="recommendation-grid">
                            <!-- Recomendaciones se cargarán aquí -->
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Toast para notificaciones -->
    <div class="toast-container">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i class="fas fa-check-circle me-2 text-success"></i>
                <strong class="me-auto">Sistema de Modos de Acción</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toast-message">
                Búsqueda completada
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ============================================
        // ESPACIO PARA BASE DE DATOS - INSERTA AQUÍ
        // ============================================
        const ingredientsDatabase = [
            // GRUPO 1A - CARBAMATOS (Inhibidores de la acetilcolinesterasa)
            {
                name: "Alanycarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos, trips, minadores de hojas en cítricos, hortalizas, frutales"
            },
            {
                name: "Aldicarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Nematodos, áfidos, trips en papa, cítricos, soja, algodón"
            },
            {
                name: "Bendiocarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Cucarachas, moscas, mosquitos, plagas de salud pública"
            },
            {
                name: "Benfuracarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Gusanos del suelo, plagas de raíces en maíz, arroz, hortalizas"
            },
            {
                name: "Butocarboxim",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos, moscas blancas en cítricos, frutales, ornamentales"
            },
            {
                name: "Butoxicarboxim",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos, trips en cultivos hortícolas y ornamentales"
            },
            {
                name: "Carbaril",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Gusanos, escarabajos, orugas en frutales, hortalizas, cultivos extensivos"
            },
            {
                name: "Carbofuran",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Nematodos, gusanos del suelo, plagas de raíces en maíz, arroz, caña"
            },
            {
                name: "Carbosulfan",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos, trips, minadores en cítricos, frutales, hortalizas"
            },
            {
                name: "Etiofencarbonato",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Ácaros, áfidos en frutales, hortalizas, ornamentales"
            },
            {
                name: "Fenobucarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Chinches, orugas en arroz, maíz, hortalizas"
            },
            {
                name: "Formetanato",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Ácaros, áfidos en frutales, cítricos, ornamentales"
            },
            {
                name: "Furathiocarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Gusanos del suelo, plagas de semillas en maíz, girasol, soja"
            },
            {
                name: "Isoprocarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Chinches, saltahojas en arroz, cereales"
            },
            {
                name: "Metlocarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Moscas, cucarachas en salud pública y almacenes"
            },
            {
                name: "Metomilo",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Lepidópteros, trips, áfidos en hortalizas, frutales, ornamentales"
            },
            {
                name: "Metolcarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos, trips en cultivos hortícolas y ornamentales"
            },
            {
                name: "Oxamyl",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Nematodos, gusanos del suelo en papa, cítricos, tabaco"
            },
            {
                name: "Pirimicarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos específicos en cereales, hortalizas, frutales"
            },
            {
                name: "Propoxur",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Moscas, cucarachas, mosquitos en salud pública"
            },
            {
                name: "Thiodicarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Lepidópteros en algodón, soja, maíz, hortalizas"
            },
            {
                name: "Thiofanox",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Nematodos, plagas del suelo en cultivos extensivos"
            },
            {
                name: "Triazamate",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Áfidos, moscas blancas en cítricos, hortalizas, ornamentales"
            },
            {
                name: "Trimethacarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Gusanos del suelo, plagas de semillas en cereales"
            },
            {
                name: "XMC",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Plagas generales en cultivos hortícolas"
            },
            {
                name: "Xylylcarb",
                moaCode: "1",
                moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
                moaDescription: "Inhibidores de la acetilcolinesterasa",
                chemicalGroup: "Carbamatos",
                family: "Carbamatos",
                physiologicalFunction: "Sistema Nervioso",
                commonUses: "Plagas generales en cultivos agrícolas"
            },
             // GRUPO 1B - ORGANOFOSFORADOS (Inhibidores de la acetilcolinesterasa)
    {
        name: "Acefato",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, minadores, moscas blancas en hortalizas, frutales, ornamentales"
    },
    {
        name: "Azamethiphos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Moscas, cucarachas en salud pública y ganadería"
    },
    {
        name: "Azinphos-etil",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas de frutales, especialmente en manzanos y perales"
    },
    {
        name: "Azinphos-metil",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas de frutales, hortalizas y cultivos extensivos"
    },
    {
        name: "Cadusafos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Nematodos en banano, cítricos, hortalizas"
    },
    {
        name: "Cloretoxifos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insectos del suelo en cultivos agrícolas"
    },
    {
        name: "Clorfenvinfos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo y ganadería"
    },
    {
        name: "Clormefo",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida sistémico para diversos cultivos"
    },
    {
        name: "Clorpirifos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Amplio espectro en frutales, hortalizas, cereales"
    },
    {
        name: "Clorpirifos-metil",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Almacenamiento de granos, plagas urbanas"
    },
    {
        name: "Coumaphos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Garrapatas en ganado, control veterinario"
    },
    {
        name: "Cyanophos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas en arroz y hortalizas"
    },
    {
        name: "Demetón-S-metil",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, ácaros en frutales y hortalizas"
    },
    {
        name: "Diazinón",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo, ganadería, salud pública"
    },
    {
        name: "Diclorovos/DDVP",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Moscas, mosquitos en salud pública y almacenes"
    },
    {
        name: "Dicrotopos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas chupadoras en diversos cultivos"
    },
    {
        name: "Dimetoato",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, moscas blancas en frutales, hortalizas"
    },
    {
        name: "Dimethylinfos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida de contacto para plagas agrícolas"
    },
    {
        name: "Disulfotón",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo en cultivos extensivos"
    },
    {
        name: "EPN",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros, coleópteros en diversos cultivos"
    },
    {
        name: "Ethion",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Ácaros, cochinillas en cítricos y frutales"
    },
    {
        name: "Etofos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida de amplio espectro"
    },
    {
        name: "Famphur",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Parásitos externos en ganado"
    },
    {
        name: "Fenaminhos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Nematodos y plagas del suelo"
    },
    {
        name: "Fenitrotión",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas en arroz, frutales y salud pública"
    },
    {
        name: "Fenthion",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Moscas, mosquitos en salud pública y ganadería"
    },
    {
        name: "Fosthiazate",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Nematodos en hortalizas, frutales, ornamentales"
    },
    {
        name: "Heptenophos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, moscas blancas en diversos cultivos"
    },
    {
        name: "Isofenphos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo en maíz, soja, hortalizas"
    },
    {
        name: "Isoxathion",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas en arroz y cultivos agrícolas"
    },
    {
        name: "Malatión",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Amplio espectro en agricultura y salud pública"
    },
    {
        name: "Mecarbam",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Ácaros, cochinillas en frutales y ornamentales"
    },
    {
        name: "Methamidophos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas chupadoras en hortalizas y algodón"
    },
    {
        name: "Methidathion",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Ácaros, cochinillas en cítricos y frutales"
    },
    {
        name: "Mevinphos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida de acción rápida en diversos cultivos"
    },
    {
        name: "Monocrotophos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros y plagas chupadoras en algodón"
    },
    {
        name: "Naled",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Mosquitos, moscas en salud pública"
    },
    {
        name: "Ometoato",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas chupadoras en diversos cultivos"
    },
    {
        name: "Oxidemetón-metilo",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, ácaros en frutales y hortalizas"
    },
    {
        name: "Paratión",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Amplio espectro en cultivos agrícolas"
    },
    {
        name: "Paratión-metil",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas en frutales, hortalizas, cereales"
    },
    {
        name: "Fentoato",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida de contacto para plagas agrícolas"
    },
    {
        name: "Fosalone",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros en frutales y hortalizas"
    },
    {
        name: "Phorate",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo en cultivos extensivos"
    },
    {
        name: "Phosmet",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros en frutales, especialmente manzanos"
    },
    {
        name: "Fosfamidón",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros y áfidos en diversos cultivos"
    },
    {
        name: "Phoxim",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo y almacenamiento de granos"
    },
    {
        name: "Profenofos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros en algodón y hortalizas"
    },
    {
        name: "Propetamphos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Moscas, cucarachas en salud pública"
    },
    {
        name: "Prothiofos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros en frutales y hortalizas"
    },
    {
        name: "Pyraclofos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas en arroz y hortalizas"
    },
    {
        name: "Piridafenitón",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida de contacto para diversos cultivos"
    },
    {
        name: "Quinalphos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Lepidópteros y chupadores en diversos cultivos"
    },
    {
        name: "Sulfotep",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Ácaros e insectos en invernaderos"
    },
    {
        name: "Tebupirinfos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo en diversos cultivos"
    },
    {
        name: "Temephos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Larvas de mosquitos en aguas estancadas"
    },
    {
        name: "Terbufos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas del suelo en maíz, caña, sorgo"
    },
    {
        name: "Tetraclorvinfos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Pulgas, garrapatas en mascotas y ganado"
    },
    {
        name: "Thiometon",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, ácaros en frutales y hortalizas"
    },
    {
        name: "Triazófos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Nematodos y plagas del suelo"
    },
    {
        name: "Trichlorfon",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Amplio espectro en agricultura y salud pública"
    },
    {
        name: "Vamidothion",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Plagas chupadoras en frutales y hortalizas"
    },
    {
        name: "Pirimifos-metil",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Almacenamiento de granos, plagas urbanas"
    },
    {
        name: "Imicyafos",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Nematodos en hortalizas y frutales"
    },
    {
        name: "Salicilato isopropil O-(metoxiaminotic-fosforilo)",
        moaCode: "1B",
        moaGroup: "Inhibidores de la acetilcolinesterasa (AChE)",
        moaDescription: "Inhibidores de la acetilcolinesterasa",
        chemicalGroup: "Organofosforados",
        family: "Organofosforados",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Insecticida experimental de amplio espectro"
    },

    // GRUPO 2A - ORGANOCLORADOS CICLODIENOS (Bloqueadores de canales de cloruro controlados por GABA)
    {
        name: "Clordano",
        moaCode: "2A",
        moaGroup: "Bloqueadores de canales de cloruro controlados por GABA",
        moaDescription: "Bloqueadores de canales de cloruro activados por GABA",
        chemicalGroup: "Organoclorados",
        family: "Ciclodienos",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Termitas, plagas del suelo en cultivos agrícolas"
    },
    {
        name: "Endosulfán",
        moaCode: "2A",
        moaGroup: "Bloqueadores de canales de cloruro controlados por GABA",
        moaDescription: "Bloqueadores de canales de cloruro activados por GABA",
        chemicalGroup: "Organoclorados",
        family: "Ciclodienos",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Áfidos, trips, moscas blancas en algodón, hortalizas, frutales"
    },


    // GRUPO 2B - FENILPIRAZOLES (FIPROLAS) (Bloqueadores de canales de cloruro controlados por GABA)
    {
        name: "Ethiprole",
        moaCode: "2B",
        moaGroup: "Bloqueadores de canales de cloruro controlados por GABA",
        moaDescription: "Bloqueadores de canales de cloruro activados por GABA",
        chemicalGroup: "Fenilpirazoles",
        family: "Fiprolas",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Larvas de lepidópteros, coleópteros en arroz, maíz"
    },
    {
        name: "Fipronil",
        moaCode: "2B",
        moaGroup: "Bloqueadores de canales de cloruro controlados por GABA",
        moaDescription: "Bloqueadores de canales de cloruro activados por GABA",
        chemicalGroup: "Fenilpirazoles",
        family: "Fiprolas",
        physiologicalFunction: "Sistema Nervioso",
        commonUses: "Termitas, cucarachas, plagas de mascotas, protección de cultivos"
    },
    // GRUPO 3 - MODULADORES DE CANALES DE SODIO
{
    name: "Aerinatrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de amplio espectro"
},
{
    name: "Allethrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Mosquitos, moscas domésticas"
},
{
    name: "d-cis-trans Allethrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida doméstico"
},
{
    name: "d-trans Allethrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida doméstico"
},
{
    name: "Bifenthrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Termitas, hormigas, plagas urbanas y agrícolas"
},
{
    name: "Bioaletrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de contacto"
},
{
    name: "Bioaletrina S-ciclopentenilo",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de contacto"
},
{
    name: "Biorresinfrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de amplio espectro"
},
{
    name: "Cicloprotrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola"
},
{
    name: "Cyfluthrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Amplio espectro en cultivos y salud pública"
},
{
    name: "beta-Ciflutrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de amplio espectro"
},
{
    name: "Cihalotorina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola"
},
{
    name: "lambda-Cihalotrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Amplio espectro en cultivos"
},
{
    name: "Gama-Cihalotrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de amplio espectro"
},
{
    name: "Cipermetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Uso agrícola y doméstico, amplio espectro"
},
{
    name: "alfa-cipermetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de contacto"
},
{
    name: "beta-cipermetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de contacto"
},
{
    name: "theta-cipermetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola"
},
{
    name: "zeta-cipermetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola"
},
{
    name: "Isômeros de la cifenotrina [(1R)-trans-Deltametrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de amplio espectro"
},
{
    name: "Empenitina [(EZ)-(1R)-isômeros]",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida especializado"
},
{
    name: "Esfenvalerato",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Larvas de lepidópteros en frutales y hortalizas"
},
{
    name: "Etofenprox",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Arroz, frutales, hortalizas"
},
{
    name: "Fenpropatriina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Acaricida e insecticida"
},
{
    name: "Fenvalerate",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Amplio espectro en cultivos"
},
{
    name: "Fluctirinato",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola"
},
{
    name: "Flumetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Garrapatas en ganado"
},
{
    name: "tau-fluvalinato",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Ácaros e insectos en cultivos y abejas"
},
{
    name: "Kadethrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de acción rápida"
},
{
    name: "Piretrinas (piretro)",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretrinas",
    family: "Piretrinas naturales",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida natural, uso doméstico y jardinería"
},
{
    name: "Halfenprox",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Acaricida e insecticida"
},
{
    name: "Fenotrina [(1R)-trans-isômero]",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de contacto"
},
{
    name: "Prallethrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Mosquitos, moscas domésticas"
},
{
    name: "Resmethrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Mosquitos, moscas, uso en salud pública"
},
{
    name: "Silafluorén",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola"
},
{
    name: "Tefluthrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Tratamiento de suelos, plagas de semillas"
},
{
    name: "Tetrametrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insectos voladores, uso doméstico"
},
{
    name: "Tetrametrina [(1R)-isômeros]",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Formulación especializada"
},
{
    name: "Tralometrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida agrícola de amplio espectro"
},
{
    name: "Transfluthrin",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Repelentes e insecticidas domésticos"
},
{
    name: "Permetrina",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Piretroides",
    family: "Piretroides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Agricultura, salud pública, tratamiento textil"
},
// GRUPO 3 - DDT, METOXICLORO
{
    name: "DDT",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Organoclorados",
    family: "DDT",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Malaria, agricultura (uso restringido)"
},
{
    name: "Metoxicloro",
    moaCode: "3",
    moaGroup: "MODULADORES DE CANALES DE SODIO",
    moaDescription: "Moduladores de canales de sodio",
    chemicalGroup: "Organoclorados",
    family: "DDT derivados",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Insecticida de menor persistencia que DDT"
},
// GRUPO 4 - MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)
{
    name: "Acetamíprida",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, minadores de hojas, chinches"
},
{
    name: "Imidacloprid",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, escarabajos, termitas, pulgas"
},
{
    name: "Tiametaxam",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, saltahojas, chinches, trips"
},
{
    name: "Clothianidin",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, trips, escarabajos del suelo, gusanos de la raíz"
},
{
    name: "Nitenpyram",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Pulgas en mascotas, áfidos, moscas blancas"
},
{
    name: "Dinotefurano",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Cucarachas, hormigas, termitas, áfidos, moscas blancas"
},
{
    name: "Tiaclopírida",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Neonicotinoides",
    family: "Neonicotinoides",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, escarabajos, trips"
},
{
    name: "Nicotina",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Nicotina",
    family: "Nicotina",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, trips, minadores de hojas, orugas pequeñas"
},
{
    name: "Sulfoxaflor",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Sulfoximinas",
    family: "Sulfoximinas",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, chinches, pulgones resistentes"
},
{
    name: "Flupiradifurona",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Butenólidos",
    family: "Butenólidos",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, chinches, pulgones"
},
{
    name: "Triflumezopirim",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Mesoiónica",
    family: "Mesoiónicos",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, chinches, pulgones"
},
{
    name: "Dicloromezotiaz",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Mesoiónica",
    family: "Mesoiónicos",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, chinches, pulgones"
},
{
    name: "Fenmezoditiaz",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Mesoiónica",
    family: "Mesoiónicos",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, chinches, pulgones"
},
{
    name: "Flupirimina",
    moaCode: "4",
    moaGroup: "MODULADORES COMPETITIVOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR)",
    moaDescription: "Moduladores competitivos del receptor nicotínico de acetilcolina",
    chemicalGroup: "Piridilidenos",
    family: "Piridilidenos",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Áfidos, moscas blancas, trips, chinches, pulgones"
},
// GRUPO 5 - MODULADORES ALOSTÉRICOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR) - SITIO I
{
    name: "Spinetoram",
    moaCode: "5",
    moaGroup: "MODULADORES ALOSTÉRICOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR) - SITIO I",
    moaDescription: "Moduladores alostéricos del receptor nicotínico de acetilcolina - Sitio I",
    chemicalGroup: "Spinosyns",
    family: "Spinosyns",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Orugas en frutales, hortalizas; trips, minadores de hojas"
},
{
    name: "Spinosad",
    moaCode: "5",
    moaGroup: "MODULADORES ALOSTÉRICOS DEL RECEPTOR NICOTÍNICO DE ACETILCOLINA (NACHR) - SITIO I",
    moaDescription: "Moduladores alostéricos del receptor nicotínico de acetilcolina - Sitio I",
    chemicalGroup: "Spinosyns",
    family: "Spinosyns",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Orugas, trips, moscas de la fruta, escarabajos, pulgones"
},

// GRUPO 6 - MODULADORES ALOSTÉRICOS DE CANALES DE CLORURO DEPENDIENTES DE GLUTAMATO (GLUCL)

{
    name: "Abamectin",
    moaCode: "6",
    moaGroup: "MODULADORES ALOSTÉRICOS DE CANALES DE CLORURO DEPENDIENTES DE GLUTAMATO (GLUCL)",
    moaDescription: "Moduladores alostéricos de canales de cloruro dependientes de glutamato",
    chemicalGroup: "Avermectinas",
    family: "Avermectinas",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Ácaros, minadores de hojas, trips, nematodos, orugas"
},
{
    name: "Lepimectina",
    moaCode: "6",
    moaGroup: "MODULADORES ALOSTÉRICOS DE CANALES DE CLORURO DEPENDIENTES DE GLUTAMATO (GLUCL)",
    moaDescription: "Moduladores alostéricos de canales de cloruro dependientes de glutamato",
    chemicalGroup: "Avermectinas",
    family: "Avermectinas",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Ácaros, minadores de hojas, trips, nematodos"
},
{
    name: "Benceato de ematectina",
    moaCode: "6",
    moaGroup: "MODULADORES ALOSTÉRICOS DE CANALES DE CLORURO DEPENDIENTES DE GLUTAMATO (GLUCL)",
    moaDescription: "Moduladores alostéricos de canales de cloruro dependientes de glutamato",
    chemicalGroup: "Avermectinas",
    family: "Avermectinas",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Orugas, minadores de hojas, ácaros, nematodos"
},
{
    name: "Milbemectina",
    moaCode: "6",
    moaGroup: "MODULADORES ALOSTÉRICOS DE CANALES DE CLORURO DEPENDIENTES DE GLUTAMATO (GLUCL)",
    moaDescription: "Moduladores alostéricos de canales de cloruro dependientes de glutamato",
    chemicalGroup: "Milbemicinas",
    family: "Milbemicinas",
    physiologicalFunction: "Sistema Nervioso",
    commonUses: "Ácaros, trips, minadores de hojas, nematodos"
},
// GRUPO 7 - MODULADORES DE RECEPTORES HORMONALES JUVENILES

{
    name: "Hidropreno",
    moaCode: "7",
    moaGroup: "MODULADORES DE RECEPTORES HORMONALES JUVENILES",
    moaDescription: "Moduladores de receptores de hormonas juveniles",
    chemicalGroup: "Análogos hormonales juveniles",
    family: "Análogos de hormona juvenil",
    physiologicalFunction: "Crecimiento y Desarrollo",
    commonUses: "Cucarachas, hormigas, termitas, mosquitos (interrupción del desarrollo)"
},
{
    name: "Kinopreno",
    moaCode: "7",
    moaGroup: "MODULADORES DE RECEPTORES HORMONALES JUVENILES",
    moaDescription: "Moduladores de receptores de hormonas juveniles",
    chemicalGroup: "Análogos hormonales juveniles",
    family: "Análogos de hormona juvenil",
    physiologicalFunction: "Crecimiento y Desarrollo",
    commonUses: "Moscas blancas, áfidos, trips (inhibición de metamorfosis)"
},
{
    name: "Metopreno",
    moaCode: "7",
    moaGroup: "MODULADORES DE RECEPTORES HORMONALES JUVENILES",
    moaDescription: "Moduladores de receptores de hormonas juveniles",
    chemicalGroup: "Análogos hormonales juveniles",
    family: "Análogos de hormona juvenil",
    physiologicalFunction: "Crecimiento y Desarrollo",
    commonUses: "Mosquitos, moscas, pulgas, cucarachas (inhibidor de crecimiento)"
},

{
    name: "Fenoxicarbo",
    moaCode: "7",
    moaGroup: "MODULADORES DE RECEPTORES HORMONALES JUVENILES",
    moaDescription: "Moduladores de receptores de hormonas juveniles",
    chemicalGroup: "Fenoxicarbo",
    family: "Carbamatos de fenoxi",
    physiologicalFunction: "Crecimiento y Desarrollo",
    commonUses: "Cucarachas, hormigas, termitas (inhibidor de crecimiento juvenil)"
},
{
    name: "Piriproxifeno",
    moaCode: "7",
    moaGroup: "MODULADORES DE RECEPTORES HORMONALES JUVENILES",
    moaDescription: "Moduladores de receptores de hormonas juveniles",
    chemicalGroup: "Piriproxifeno",
    family: "Piridil éteres",
    physiologicalFunction: "Crecimiento y Desarrollo",
    commonUses: "Moscas blancas, áfidos, trips, escamas, mosquitos (inhibidor de crecimiento)"
},
// GRUPO 8 - INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)
{
    name: "Bromuro de metilo y otros haluros de alquilo",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITio)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Alquilhalogenuros",
    family: "Halogenuros de alquilo",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Fumigante de suelo, control de nematodos, insectos, hongos"
},
{
    name: "1,3-dicloropropeno",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Alquilhalogenuros",
    family: "Dicloroalquenos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Nematicida de suelo, fumigante"
},
{
    name: "Cloropicrina",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Cloropicrina",
    family: "Organoclorados",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Fumigante de suelo, control de patógenos del suelo"
},
{
    name: "Criolita",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Fluoruros",
    family: "Fluoruros inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Orugas masticadoras, minadores de hojas"
},
{
    name: "Fluoruro de sulfuro",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Fluoruros",
    family: "Fluoruros inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Insecticida de contacto"
},
{
    name: "Bórax",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Boratos",
    family: "Boratos inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Cucarachas, hormigas, termitas"
},
{
    name: "Octaborato diódico",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Boratos",
    family: "Boratos inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Termitas, insectos de madera, cucarachas"
},
{
    name: "Metaborato de sodio",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Boratos",
    family: "Boratos inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Insecticida de contacto"
},
{
    name: "Ácido bórico",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Boratos",
    family: "Boratos inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Cucarachas, hormigas, termitas, pulgas"
},
{
    name: "Borato de sodio",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Boratos",
    family: "Boratos inorgánicos",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Insecticida doméstico, cucarachas, hormigas"
},
{
    name: "Emético tártaro",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Emético tártaro",
    family: "Compuestos de antimonio",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Insecticida histórico, actualmente de uso limitado"
},
{
    name: "Dazomet",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Generadores de metilisotiocianato",
    family: "Compuestos de azufre y nitrógeno",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Fumigante de suelo, control de nematodos, hongos, malezas"
},
{
    name: "Metam",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Generadores de metilisotiocianato",
    family: "Compuestos de azufre y nitrógeno",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Fumigante de suelo, nematicida, fungicida"
},
{
    name: "Metil isotiocinato",
    moaCode: "8",
    moaGroup: "INHIBIDORES DIVERSOS NO ESPECÍFICOS (MULTISITIO)",
    moaDescription: "Inhibidores diversos no específicos (multisitio)",
    chemicalGroup: "Generadores de metilisotiocianato",
    family: "Compuestos de azufre y nitrógeno",
    physiologicalFunction: "Modo Desconocido",
    commonUses: "Fumigante de suelo, nematicida"
},
        ];
        // ============================================

        // Mapeo de funciones fisiológicas a colores
        const functionColors = {
            "Sistema Nervioso": {
                background: "var(--nervous-system-dark)",
                text: "white"
            },
            "Crecimiento y Desarrollo": {
                background: "var(--growth-development-dark)",
                text: "white"
            },
            "Respiración": {
                background: "var(--respiration-dark)",
                text: "white"
            },
            "Sistema Digestivo": {
                background: "var(--digestive-system-dark)",
                text: "white"
            },
            "Modo Desconocido": {
                background: "var(--unknown-action-dark)",
                text: "white"
            }
        };

        // Elementos del DOM
        const searchInput = document.getElementById('ingredient-search');
        const searchBtn = document.getElementById('search-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const helpBtn = document.getElementById('help-btn');
        const suggestionsList = document.getElementById('suggestions-list');
        const resultsSection = document.getElementById('results-section');
        const activeIngredientDiv = document.getElementById('active-ingredient');
        const recommendationGrid = document.getElementById('recommendation-grid');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const sidebarClose = document.querySelector('.sidebar-close');
        const legendBtn = document.getElementById('legend-btn');
        const infoModal = document.getElementById('info-modal');
        const closeButton = document.querySelector('.close-button');
        const filterControls = document.getElementById('filter-controls');
        const commonUsesCheckbox = document.getElementById('common-uses-filter-checkbox');
        const commonUsesLabel = document.getElementById('common-uses-label');
        
        // Tutorial elements
        const tutorialModal = document.getElementById('tutorial-modal');
        const tutorialSlides = document.querySelectorAll('.tutorial-slide');
        const tutorialIndicators = document.querySelectorAll('.tutorial-indicator');
        const prevSlideBtn = document.getElementById('prev-slide');
        const nextSlideBtn = document.getElementById('next-slide');
        const skipTutorialBtn = document.getElementById('skip-tutorial');
        const dontShowAgainCheckbox = document.getElementById('dont-show-again');

        // Variables globales
        let currentRecommendations = [];
        let currentIngredient = null;
        let recommendationMode = 'physiological'; // Por defecto: por función fisiológica
        let commonUsesFilter = 'similar'; // Por defecto: usos similares
        let currentSlide = 1;
        const totalSlides = 6;

        // Inicializar toast de notificación
        const toastLiveExample = document.getElementById('liveToast');
        const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample);

        // Verificar si es la primera vez que se usa
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar si ya se mostró el tutorial
            const tutorialShown = localStorage.getItem('tutorialShown');
            
            if (!tutorialShown) {
                // Mostrar tutorial después de un breve retraso
                setTimeout(() => {
                    showTutorial();
                }, 1000);
            }
            
            // Configurar etiqueta del filtro inicial
            updateCommonUsesLabel();
        });

        // Mostrar tutorial
        function showTutorial() {
            tutorialModal.style.display = 'block';
            currentSlide = 1;
            updateTutorialSlides();
        }

        // Actualizar slides del tutorial
        function updateTutorialSlides() {
            // Ocultar todos los slides
            tutorialSlides.forEach(slide => slide.classList.remove('active'));
            
            // Mostrar slide actual
            const currentSlideElement = document.getElementById(`slide-${currentSlide}`);
            if (currentSlideElement) {
                currentSlideElement.classList.add('active');
            }
            
            // Actualizar indicadores
            tutorialIndicators.forEach(indicator => {
                indicator.classList.remove('active');
                if (parseInt(indicator.dataset.slide) === currentSlide) {
                    indicator.classList.add('active');
                }
            });
            
            // Actualizar botones de navegación
            prevSlideBtn.style.display = currentSlide === 1 ? 'none' : 'block';
            nextSlideBtn.textContent = currentSlide === totalSlides ? 'Comenzar' : 'Siguiente';
        }

        // Configurar navegación del tutorial
        tutorialIndicators.forEach(indicator => {
            indicator.addEventListener('click', function() {
                currentSlide = parseInt(this.dataset.slide);
                updateTutorialSlides();
            });
        });

        prevSlideBtn.addEventListener('click', function() {
            if (currentSlide > 1) {
                currentSlide--;
                updateTutorialSlides();
            }
        });

        nextSlideBtn.addEventListener('click', function() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateTutorialSlides();
            } else {
                // Finalizar tutorial
                finishTutorial();
            }
        });

        skipTutorialBtn.addEventListener('click', function() {
            finishTutorial();
        });

        // Finalizar tutorial
        function finishTutorial() {
            tutorialModal.style.display = 'none';
            
            // Guardar preferencia
            if (dontShowAgainCheckbox.checked) {
                localStorage.setItem('tutorialShown', 'true');
            }
            
            // Mostrar mensaje
            showToast('¡Bienvenido al Buscador de Modos de Acción!');
        }

        // Configurar botón de ayuda
        helpBtn.addEventListener('click', function() {
            showTutorial();
        });

        // Configurar sidebars
        settingsBtn.addEventListener('click', function() {
            sidebar.classList.add('active');
            overlay.classList.add('active');
        });

        sidebarClose.addEventListener('click', function() {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
        });

        overlay.addEventListener('click', function() {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
        });

        // Configurar filtro de usos comunes
        commonUsesCheckbox.addEventListener('change', function() {
            if (currentIngredient) {
                currentRecommendations = getRecommendations(currentIngredient);
                displayRecommendations(currentRecommendations);
            }
        });

        // Configurar modal de leyenda
        legendBtn.addEventListener('click', function() {
            infoModal.style.display = 'block';
        });

        closeButton.addEventListener('click', function() {
            infoModal.style.display = 'none';
        });

        window.addEventListener('click', function(event) {
            if (event.target === infoModal) {
                infoModal.style.display = 'none';
            }
            if (event.target === tutorialModal) {
                tutorialModal.style.display = 'none';
            }
        });

        // Configurar modo de recomendación
        document.querySelectorAll('input[name="recommendation-mode"]').forEach(radio => {
            radio.addEventListener('change', function() {
                recommendationMode = this.value;
                if (currentIngredient) {
                    currentRecommendations = getRecommendations(currentIngredient);
                    displayRecommendations(currentRecommendations);
                }
            });
        });

        // Configurar filtro de usos comunes en sidebar
        document.querySelectorAll('input[name="common-uses-filter"]').forEach(radio => {
            radio.addEventListener('change', function() {
                commonUsesFilter = this.value;
                updateCommonUsesLabel();
                
                // Actualizar checkbox basado en selección
                commonUsesCheckbox.checked = (commonUsesFilter !== 'all');
                commonUsesCheckbox.disabled = (commonUsesFilter === 'all');
                
                if (currentIngredient) {
                    currentRecommendations = getRecommendations(currentIngredient);
                    displayRecommendations(currentRecommendations);
                }
            });
        });

        // Actualizar etiqueta del filtro
        function updateCommonUsesLabel() {
            let labelText = '';
            switch(commonUsesFilter) {
                case 'similar':
                    labelText = 'Usos similares';
                    break;
                case 'same':
                    labelText = 'Mismos usos';
                    break;
                case 'all':
                    labelText = 'Todos los usos';
                    break;
            }
            commonUsesLabel.textContent = labelText;
        }

        // Mostrar sugerencias al escribir
        searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            suggestionsList.innerHTML = '';
            
            if (query.length < 2) {
                suggestionsList.style.display = 'none';
                return;
            }
            
            const matches = ingredientsDatabase.filter(ingredient => 
                ingredient.name.toLowerCase().includes(query)
            );
            
            if (matches.length > 0) {
                matches.forEach(ingredient => {
                    const div = document.createElement('div');
                    div.className = 'suggestion-item';
                    div.textContent = ingredient.name;
                    div.addEventListener('click', function() {
                        searchInput.value = ingredient.name;
                        suggestionsList.style.display = 'none';
                        searchIngredient(ingredient.name);
                    });
                    suggestionsList.appendChild(div);
                });
                suggestionsList.style.display = 'block';
            } else {
                suggestionsList.style.display = 'none';
            }
        });

        // Ocultar sugerencias al hacer clic fuera
        document.addEventListener('click', function(e) {
            if (!searchInput.contains(e.target) && !suggestionsList.contains(e.target)) {
                suggestionsList.style.display = 'none';
            }
        });

        // Buscar al hacer clic en el botón
        searchBtn.addEventListener('click', function() {
            const query = searchInput.value.trim();
            if (query) {
                searchIngredient(query);
            }
        });

        // Permitir búsqueda con Enter
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const query = searchInput.value.trim();
                if (query) {
                    searchIngredient(query);
                }
            }
        });

        // Buscar ingrediente y mostrar resultados
        function searchIngredient(query) {
            const ingredient = ingredientsDatabase.find(ing => 
                ing.name.toLowerCase() === query.toLowerCase()
            );
            
            if (!ingredient) {
                showToast('Ingrediente no encontrado. Intente con otro nombre.', 'error');
                return;
            }
            
            currentIngredient = ingredient;
            
            // Mostrar información del ingrediente activo
            displayActiveIngredient(ingredient);
            
            // Mostrar controles de filtro
            filterControls.style.display = 'flex';
            
            // Obtener recomendaciones
            currentRecommendations = getRecommendations(ingredient);
            
            // Mostrar recomendaciones
            displayRecommendations(currentRecommendations);
            
            // Mostrar sección de resultados
            resultsSection.style.display = 'block';
            
            // Mostrar mensaje de éxito
            showToast(`"${ingredient.name}" encontrado. Mostrando ${currentRecommendations.length} recomendaciones.`);
            
            // Desplazarse a los resultados
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Mostrar información del ingrediente activo
        function displayActiveIngredient(ingredient) {
            const colorStyle = functionColors[ingredient.physiologicalFunction] || functionColors["Modo Desconocido"];
            
            activeIngredientDiv.innerHTML = `
                <div class="ingredient-header">
                    <h2 class="ingredient-name">${ingredient.name}</h2>
                    <span class="moa-badge" style="background-color: ${colorStyle.background}">Grupo ${ingredient.moaCode} - ${ingredient.moaGroup}</span>
                </div>
                <div class="ingredient-details">
                    <div>
                        <div class="detail-item">
                            <span class="detail-label">Función Fisiológica:</span> ${ingredient.physiologicalFunction}
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Familia:</span> ${ingredient.family}
                        </div>
                    </div>
                    <div>
                        <div class="detail-item">
                            <span class="detail-label">Grupo Químico:</span> ${ingredient.chemicalGroup}
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Usos Comunes:</span> ${ingredient.commonUses}
                        </div>
                    </div>
                </div>
            `;
        }

        // Función para normalizar texto (eliminar acentos, espacios extras, etc.)
        function normalizeText(text) {
            if (!text) return '';
            return text.toLowerCase()
                .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // Eliminar acentos
                .replace(/[.,]/g, '') // Eliminar puntuación
                .trim();
        }

        // Función para buscar coincidencias parciales
        function findSimilarUses(activeUses, ingredientUses) {
            if (!activeUses || !ingredientUses) return false;
            
            const activeUsesArray = activeUses.split(',').map(use => normalizeText(use));
            const ingredientUsesArray = ingredientUses.split(',').map(use => normalizeText(use));
            
            // Buscar coincidencias parciales
            for (const activeUse of activeUsesArray) {
                for (const ingredientUse of ingredientUsesArray) {
                    if (activeUse && ingredientUse) {
                        // Coincidencia exacta
                        if (activeUse === ingredientUse) return true;
                        
                        // Coincidencia parcial (una palabra contiene a la otra)
                        if (activeUse.includes(ingredientUse) || ingredientUse.includes(activeUse)) {
                            return true;
                        }
                        
                        // Coincidencia por palabras clave comunes
                        const commonKeywords = ['maíz', 'soja', 'algodón', 'trigo', 'arroz', 'hortalizas', 'frutales', 'cítricos', 'café', 'caña'];
                        for (const keyword of commonKeywords) {
                            if (activeUse.includes(keyword) && ingredientUse.includes(keyword)) {
                                return true;
                            }
                        }
                    }
                }
            }
            
            return false;
        }

        // Función para buscar usos idénticos
        function findSameUses(activeUses, ingredientUses) {
            if (!activeUses || !ingredientUses) return false;
            
            const activeUsesArray = activeUses.split(',').map(use => normalizeText(use)).sort();
            const ingredientUsesArray = ingredientUses.split(',').map(use => normalizeText(use)).sort();
            
            // Comparar arrays
            if (activeUsesArray.length !== ingredientUsesArray.length) return false;
            
            for (let i = 0; i < activeUsesArray.length; i++) {
                if (activeUsesArray[i] !== ingredientUsesArray[i]) {
                    return false;
                }
            }
            
            return true;
        }

        // Obtener recomendaciones según el modo seleccionado
        function getRecommendations(activeIngredient) {
            let filteredIngredients = ingredientsDatabase.filter(ingredient => 
                ingredient.name !== activeIngredient.name
            );
            
            // Aplicar filtro según el modo de recomendación
            switch(recommendationMode) {
                case 'physiological':
                    // Excluir misma función fisiológica
                    filteredIngredients = filteredIngredients.filter(ingredient => 
                        ingredient.physiologicalFunction !== activeIngredient.physiologicalFunction
                    );
                    break;
                case 'family':
                    // Excluir misma familia
                    filteredIngredients = filteredIngredients.filter(ingredient => 
                        ingredient.family !== activeIngredient.family
                    );
                    break;
                case 'chemical':
                    // Excluir mismo grupo químico
                    filteredIngredients = filteredIngredients.filter(ingredient => 
                        ingredient.chemicalGroup !== activeIngredient.chemicalGroup
                    );
                    break;
                default:
                    // No filtrar por modo
                    break;
            }
            
            // Aplicar filtro de usos comunes según selección
            if (commonUsesFilter !== 'all' && activeIngredient.commonUses) {
                filteredIngredients = filteredIngredients.filter(ingredient => {
                    if (!ingredient.commonUses) return false;
                    
                    if (commonUsesFilter === 'similar') {
                        return findSimilarUses(activeIngredient.commonUses, ingredient.commonUses);
                    } else if (commonUsesFilter === 'same') {
                        return findSameUses(activeIngredient.commonUses, ingredient.commonUses);
                    }
                    
                    return false;
                });
            }
            
            return filteredIngredients;
        }

        // Mostrar recomendaciones
        function displayRecommendations(recommendations) {
            if (recommendations.length === 0) {
                recommendationGrid.innerHTML = `
                    <div class="no-data">
                        <i class="fas fa-search fa-3x mb-3 text-muted"></i>
                        <p>No se encontraron ingredientes con modos de acción diferentes según los criterios seleccionados.</p>
                        <p>Intente ajustar los filtros en el panel de ajustes.</p>
                    </div>
                `;
                return;
            }
            
            recommendationGrid.innerHTML = '';
            
            // Mostrar contador de resultados
            const resultsCount = document.createElement('div');
            resultsCount.className = 'no-data';
            resultsCount.innerHTML = `<p>Mostrando <strong>${recommendations.length}</strong> ingredientes recomendados</p>`;
            recommendationGrid.appendChild(resultsCount);
            
            recommendations.forEach(ingredient => {
                const colorStyle = functionColors[ingredient.physiologicalFunction] || functionColors["Modo Desconocido"];
                
                const card = document.createElement('div');
                card.className = 'recommendation-card';
                card.innerHTML = `
                    <div class="rec-name">${ingredient.name}</div>
                    <div class="rec-moa">
                        Grupo: 
                        <span class="moa-badge" style="background-color: ${colorStyle.background}">
                            ${ingredient.moaCode} - ${ingredient.moaGroup}
                        </span>
                    </div>
                    <div class="rec-details">
                        <p><strong><i class="fas fa-heartbeat me-1"></i>Función Fisiológica:</strong> ${ingredient.physiologicalFunction}</p>
                        <p><strong><i class="fas fa-users me-1"></i>Familia:</strong> ${ingredient.family}</p>
                        <p><strong><i class="fas fa-flask me-1"></i>Grupo Químico:</strong> ${ingredient.chemicalGroup}</p>
                        <p><strong><i class="fas fa-leaf me-1"></i>Usos Comunes:</strong> ${ingredient.commonUses}</p>
                    </div>
                `;
                recommendationGrid.appendChild(card);
            });
        }

        // Función para mostrar toast
        function showToast(message, type = 'success') {
            document.getElementById('toast-message').textContent = message;
            
            const icon = document.querySelector('.toast-header i');
            if (type === 'error') {
                icon.className = 'fas fa-exclamation-circle me-2 text-danger';
            } else {
                icon.className = 'fas fa-check-circle me-2 text-success';
            }
            
            toastBootstrap.show();
        }

        // Mostrar un ejemplo al cargar (opcional)
        // document.addEventListener('DOMContentLoaded', function() {
        //     // Si quieres mostrar un ejemplo automáticamente, descomenta esto:
        //     // setTimeout(() => {
        //     //     searchIngredient('Imidacloprid');
        //     // }, 1000);
        // });
    </script>
</body>
</html>
